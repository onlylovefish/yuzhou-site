<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.23" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.151" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" type="image/png" href="zhishiku.png"><title>ä»“åº“ç»“æ„ | æ¸”èˆŸå°ç«™</title><meta name="description" content="æ¸”èˆŸçš„ç«™ç‚¹"><link rel="preload" href="/yuzhou-site/assets/style-Di2r40pf.css" as="style"><link rel="stylesheet" href="/yuzhou-site/assets/style-Di2r40pf.css"><link rel="modulepreload" href="/yuzhou-site/assets/app-BKURSIeJ.js"><link rel="modulepreload" href="/yuzhou-site/assets/index.html-C2LdzcIB.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-2cd99c61><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-04aa07a2></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-04aa07a2> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-2cd99c61 data-v-cb84354d><div class="vp-navbar" vp-navbar data-v-cb84354d data-v-c8291bb3><div class="wrapper" data-v-c8291bb3><div class="container" data-v-c8291bb3><div class="title" data-v-c8291bb3><div class="vp-navbar-title" data-v-c8291bb3 data-v-aa9555db><a class="vp-link no-icon link title" href="/yuzhou-site/" data-v-aa9555db data-v-230c3d54><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/yuzhou-site/zhishiku.png" alt data-v-a653499d><!--]--><!--[--><img class="vp-image light logo" style="" src="/yuzhou-site/zhishiku.png" alt data-v-a653499d><!--]--><!--]--><!--]--><span data-v-aa9555db>æ¸”èˆŸå°ç«™</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-c8291bb3><div class="content-body" data-v-c8291bb3><!--[--><!--]--><div class="vp-navbar-search search" data-v-c8291bb3><div class="search-wrapper" data-v-fbf9c935><!----><div id="local-search" data-v-fbf9c935><button type="button" class="mini-search mini-search-button" aria-label="æœç´¢æ–‡æ¡£" data-v-fbf9c935><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">æœç´¢æ–‡æ¡£</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-c8291bb3 data-v-a9676556><span id="main-nav-aria-label" class="visually-hidden" data-v-a9676556>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/yuzhou-site/aboutme/" tabindex="0" data-v-a9676556 data-v-ae9c43c6 data-v-230c3d54><!--[--><!----><span data-v-ae9c43c6>å…³äºæˆ‘ğŸ‘©â€ğŸ’¼</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/yuzhou-site/baseKnowledge/" tabindex="0" data-v-a9676556 data-v-ae9c43c6 data-v-230c3d54><!--[--><!----><span data-v-ae9c43c6>åŸºç¡€çŸ¥è¯†ğŸ§€</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/yuzhou-site/sourceCode/" tabindex="0" data-v-a9676556 data-v-ae9c43c6 data-v-230c3d54><!--[--><!----><span data-v-ae9c43c6>æºç å­¦ä¹ ğŸ“š</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/yuzhou-site/practice/" tabindex="0" data-v-a9676556 data-v-ae9c43c6 data-v-230c3d54><!--[--><!----><span data-v-ae9c43c6>å·¥ä½œå®è·µğŸ’»</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/yuzhou-site/article/7j07ihxk/" tabindex="0" data-v-a9676556 data-v-ae9c43c6 data-v-230c3d54><!--[--><!----><span data-v-ae9c43c6>leetCodeğŸ’¡</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/yuzhou-site/read/" tabindex="0" data-v-a9676556 data-v-ae9c43c6 data-v-230c3d54><!--[--><!----><span data-v-ae9c43c6>å¼€å·æœ‰ç›ŠğŸ“–</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/yuzhou-site/blog/archives/" tabindex="0" data-v-a9676556 data-v-ae9c43c6 data-v-230c3d54><!--[--><!----><span data-v-ae9c43c6>å½’æ¡£</span><!----><!--]--><!----></a><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-c8291bb3 data-v-49f87829><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-49f87829 data-v-6862ca98 data-v-1b8b485c><span class="check" data-v-1b8b485c><span class="icon" data-v-1b8b485c><!--[--><span class="vpi-sun sun" data-v-6862ca98></span><span class="vpi-moon moon" data-v-6862ca98></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-c8291bb3 data-v-3a832deb data-v-feba6c91><!--[--><a class="vp-social-link no-icon" href="https://github.com/onlylovefish/yuzhou-site" aria-label="github" target="_blank" rel="noopener" data-v-feba6c91 data-v-344f47ea><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-c8291bb3 data-v-f8d57d5d data-v-10af6d48><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-10af6d48><span class="vpi-more-horizontal icon" data-v-10af6d48></span></button><div class="menu" data-v-10af6d48><div class="vp-menu" data-v-10af6d48 data-v-de5eeab9><!----><!--[--><!--[--><!----><div class="group" data-v-f8d57d5d><div class="item appearance" data-v-f8d57d5d><p class="label" data-v-f8d57d5d>å¤–è§‚</p><div class="appearance-action" data-v-f8d57d5d><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-f8d57d5d data-v-6862ca98 data-v-1b8b485c><span class="check" data-v-1b8b485c><span class="icon" data-v-1b8b485c><!--[--><span class="vpi-sun sun" data-v-6862ca98></span><span class="vpi-moon moon" data-v-6862ca98></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f8d57d5d><div class="item social-links" data-v-f8d57d5d><div class="vp-social-links social-links-list" data-v-f8d57d5d data-v-feba6c91><!--[--><a class="vp-social-link no-icon" href="https://github.com/onlylovefish/yuzhou-site" aria-label="github" target="_blank" rel="noopener" data-v-feba6c91 data-v-344f47ea><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-c8291bb3 data-v-7ad7fefd><span class="container" data-v-7ad7fefd><span class="top" data-v-7ad7fefd></span><span class="middle" data-v-7ad7fefd></span><span class="bottom" data-v-7ad7fefd></span></span></button></div></div></div></div><div class="divider" data-v-c8291bb3><div class="divider-line" data-v-c8291bb3></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-2cd99c61 data-v-26fe2698><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-26fe2698><span class="vpi-align-left menu-icon" data-v-26fe2698></span><span class="menu-text" data-v-26fe2698>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-26fe2698 data-v-77ed75df><button data-v-77ed75df>è¿”å›é¡¶éƒ¨</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-2cd99c61 data-v-778f4e12><div class="vp-doc-container is-blog" data-v-778f4e12 data-v-0d2ffc47><!--[--><!--]--><div class="container" data-v-0d2ffc47><!----><div class="content" data-v-0d2ffc47><div class="content-container" data-v-0d2ffc47><!--[--><!--]--><main class="main" data-v-0d2ffc47><nav class="vp-breadcrumb" data-v-0d2ffc47 data-v-f5695888><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-f5695888><!--[--><li property="itemListElement" typeof="ListItem" data-v-f5695888><a class="vp-link no-icon link breadcrumb" href="/yuzhou-site/" property="item" typeof="WebPage" data-v-f5695888 data-v-230c3d54><!--[-->é¦–é¡µ<!--]--><!----></a><span class="vpi-chevron-right" data-v-f5695888></span><meta property="name" content="é¦–é¡µ" data-v-f5695888><meta property="position" content="1" data-v-f5695888></li><li property="itemListElement" typeof="ListItem" data-v-f5695888><a class="vp-link no-icon link breadcrumb" href="/yuzhou-site/blog/" property="item" typeof="WebPage" data-v-f5695888 data-v-230c3d54><!--[-->åšå®¢<!--]--><!----></a><span class="vpi-chevron-right" data-v-f5695888></span><meta property="name" content="åšå®¢" data-v-f5695888><meta property="position" content="2" data-v-f5695888></li><li property="itemListElement" typeof="ListItem" data-v-f5695888><a class="vp-link no-icon link breadcrumb" href="/yuzhou-site/blog/categories/?id=6459a8" property="item" typeof="WebPage" data-v-f5695888 data-v-230c3d54><!--[-->sourceCode<!--]--><!----></a><span class="vpi-chevron-right" data-v-f5695888></span><meta property="name" content="sourceCode" data-v-f5695888><meta property="position" content="3" data-v-f5695888></li><li property="itemListElement" typeof="ListItem" data-v-f5695888><a class="vp-link no-icon link breadcrumb" href="/yuzhou-site/blog/categories/?id=d601c1" property="item" typeof="WebPage" data-v-f5695888 data-v-230c3d54><!--[-->reactç¯‡<!--]--><!----></a><span class="vpi-chevron-right" data-v-f5695888></span><meta property="name" content="reactç¯‡" data-v-f5695888><meta property="position" content="4" data-v-f5695888></li><li property="itemListElement" typeof="ListItem" data-v-f5695888><a class="vp-link no-icon link breadcrumb current" href="/yuzhou-site/article/a7kim9gv/" property="item" typeof="WebPage" data-v-f5695888 data-v-230c3d54><!--[-->ä»“åº“ç»“æ„<!--]--><!----></a><!----><meta property="name" content="ä»“åº“ç»“æ„" data-v-f5695888><meta property="position" content="5" data-v-f5695888></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-bac073e1>ä»“åº“ç»“æ„ <!----></h1><div class="vp-doc-meta" data-v-bac073e1><!--[--><!--]--><p class="reading-time" data-v-bac073e1><span class="vpi-books icon" data-v-bac073e1></span><span data-v-bac073e1>çº¦ 683 å­—</span><span data-v-bac073e1>å¤§çº¦ 2 åˆ†é’Ÿ</span></p><!----><!--[--><!--]--><p class="create-time" data-v-bac073e1><span class="vpi-clock icon" data-v-bac073e1></span><span data-v-bac073e1>2025-07-20</span></p></div><!--]--><!--[--><!--]--><div class="_article_a7kim9gv_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-0d2ffc47><!--[--><!--]--><div data-v-0d2ffc47><p>å­¦ä¹ ä¸€ä¸ªæºç ä»“åº“ï¼Œè‚¯å®šè¦å…ˆçœ‹çœ‹æºç ä»“åº“çš„æ–‡ä»¶ç»“æ„,reactä»“åº“åŸºç¡€åŒ…ç»“æ„å¦‚ä¸‹</p><ol><li><strong>react</strong></li></ol><p>react åŸºç¡€åŒ…, åªæä¾›å®šä¹‰ react ç»„ä»¶(ReactElement)çš„å¿…è¦å‡½æ•°, ä¸€èˆ¬æ¥è¯´éœ€è¦å’Œæ¸²æŸ“å™¨(react-dom,react-native)ä¸€åŒä½¿ç”¨. åœ¨ç¼–å†™reactåº”ç”¨çš„ä»£ç æ—¶, å¤§éƒ¨åˆ†éƒ½æ˜¯è°ƒç”¨æ­¤åŒ…çš„ api.</p><ol start="2"><li><strong>react-dom</strong></li></ol><p>react æ¸²æŸ“å™¨ä¹‹ä¸€, æ˜¯ react ä¸ web å¹³å°è¿æ¥çš„æ¡¥æ¢(å¯ä»¥åœ¨æµè§ˆå™¨å’Œ nodejs ç¯å¢ƒä¸­ä½¿ç”¨), å°†react-reconcilerä¸­çš„è¿è¡Œç»“æœè¾“å‡ºåˆ° web ç•Œé¢ä¸Š. åœ¨ç¼–å†™reactåº”ç”¨çš„ä»£ç æ—¶,å¤§å¤šæ•°åœºæ™¯ä¸‹, èƒ½ç”¨åˆ°æ­¤åŒ…çš„å°±æ˜¯ä¸€ä¸ªå…¥å£å‡½æ•°ReactDOM.render(<!---->, document.getElementById(&#39;root&#39;)), å…¶ä½™ä½¿ç”¨çš„ api, åŸºæœ¬æ˜¯reactåŒ…æä¾›çš„.</p><ol start="3"><li><p><strong>react-reconciler</strong> æ ¸å¿ƒåŒ…</p></li><li><p><strong>scheduler</strong></p></li></ol><p>è°ƒåº¦æœºåˆ¶çš„æ ¸å¿ƒå®ç°, æ§åˆ¶ç”±react-reconcileré€å…¥çš„å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœº, åœ¨concurrentæ¨¡å¼ä¸‹å¯ä»¥å®ç°ä»»åŠ¡åˆ†ç‰‡. åœ¨ç¼–å†™reactåº”ç”¨çš„ä»£ç æ—¶, åŒæ ·å‡ ä¹ä¸ä¼šç›´æ¥ç”¨åˆ°æ­¤åŒ…æä¾›çš„ api.</p><h2 id="å®è§‚æ€»è§ˆ" tabindex="-1"><a class="header-anchor" href="#å®è§‚æ€»è§ˆ"><span>å®è§‚æ€»è§ˆ</span></a></h2><h3 id="æ¶æ„åˆ†å±‚" tabindex="-1"><a class="header-anchor" href="#æ¶æ„åˆ†å±‚"><span>æ¶æ„åˆ†å±‚</span></a></h3><p>ä¸ºäº†ä¾¿äºç†è§£, å¯å°† react åº”ç”¨æ•´ä½“ç»“æ„åˆ†ä¸ºæ¥å£å±‚(api)å’Œå†…æ ¸å±‚(core)2 ä¸ªéƒ¨åˆ†</p><h4 id="æ¥å£å±‚-api" tabindex="-1"><a class="header-anchor" href="#æ¥å£å±‚-api"><span>æ¥å£å±‚ï¼ˆapiï¼‰</span></a></h4><p>reactåŒ…ï¼Œåœ¨reactå¯åŠ¨åï¼Œæ­£å¸¸å¯ä»¥æ”¹å˜æ¸²æŸ“çš„åŸºæœ¬æ“ä½œæœ‰3ä¸ª</p><ul><li>classç»„ä»¶setState</li><li>functionç»„ä»¶ä½¿ç”¨hookï¼ŒdispatchActionæ”¹å˜hookå¯¹è±¡</li><li>æ”¹å˜context</li></ul><p>setStateå’ŒdispatchActionéƒ½æ˜¯ç”±reactåŒ…ç›´æ¥æš´éœ²</p><img src="/yuzhou-site/assets/react%E5%8C%85%E6%9A%B4%E9%9C%B2%E6%96%B9%E6%B3%95-NQwKrXS8.png" style="height:380px;width:200px;"><h4 id="å†…æ ¸å±‚-core" tabindex="-1"><a class="header-anchor" href="#å†…æ ¸å±‚-core"><span>å†…æ ¸å±‚(core)</span></a></h4><p>å†…æ ¸åˆ†ä¸º3ä¸ªéƒ¨åˆ†</p><ol><li><p>è°ƒåº¦å™¨(scheduler) åªæœ‰ä¸€ä¸ªæ ¸å¿ƒèŒè´£ï¼šè°ƒåº¦å™¨å°†react-reconcileræä¾›çš„å›è°ƒå‡½æ•°ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªä»»åŠ¡å¯¹è±¡ä¸­ï¼Œåœ¨å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œä¼˜å…ˆçº§é«˜çš„æ’åœ¨æœ€å‰é¢ï¼Œå¾ªç¯æ¶ˆè´¹ä»»åŠ¡é˜Ÿåˆ—ï¼Œç›´åˆ°é˜Ÿåˆ—æ¸…ç©º</p></li><li><p>æ„é€ å™¨(react-reconciler) å…±æœ‰3ä¸ªæ ¸å¿ƒèŒè´£ï¼šè£…è½½æ¸²æŸ“å™¨ï¼Œæ¸²æŸ“å™¨å¿…é¡»å®ç°HostConfigåè®®ï¼Œä¿è¯åœ¨éœ€è¦çš„æ—¶å€™æ­£ç¡®è°ƒç”¨æ¸²æŸ“å™¨çš„apiï¼Œç”Ÿæˆå®é™…èŠ‚ç‚¹ï¼ˆdomèŠ‚ç‚¹ï¼‰ï¼›æ¥æ”¶react-domåŒ…ï¼ˆåˆæ¬¡renderï¼‰å’ŒreactåŒ…ï¼ˆåç»­çš„setStateï¼‰å‘èµ·çš„æ›´æ–°è¯·æ±‚ï¼›å°†fiberæ ‘çš„æ„é€ è¿‡ç¨‹åŒ…è£…åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œå¹¶å°†å›è°ƒå‡½æ•°ä¼ å…¥scheduleråŒ…ç­‰å¾…è°ƒåº¦</p></li><li><p>æ¸²æŸ“å™¨(react-dom) å…±æœ‰2ä¸ªæ ¸å¿ƒèŒè´£å¼•å¯¼reactåº”ç”¨çš„å¯åŠ¨ï¼ˆreactDOM.renderï¼‰ï¼›å®ç°HostConfigåè®®ï¼Œèƒ½å¤Ÿå°†react-reconcileråŒ…æ„é€ å‡ºæ¥çš„fiberæ ‘è¡¨ç°å‡ºæ¥ï¼Œç”ŸæˆdomèŠ‚ç‚¹ï¼ˆæµè§ˆå™¨ï¼‰æˆ–è€…å­—ç¬¦ä¸²(ssr)ï¼Œæ–°ç‰ˆåœ¨ä¸»è¦åœ¨<code>packages/react-dom-bindings/src/client/ReactFiberConfigDOM.js</code>ä¸­ï¼Œå¯ä»¥ç†è§£ä¸ºreactå’Œdomä¹‹é—´çš„ç¿»è¯‘</p></li></ol><p><img src="/yuzhou-site/assets/%E5%86%85%E6%A0%B83%E4%B8%AA%E5%8C%85%E7%9A%84%E5%85%B3%E7%B3%BB-BbycARK6.png" alt="alt text"></p></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-0d2ffc47 data-v-ac33042a><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-ac33042a><span class="contributors-label" data-v-ac33042a>è´¡çŒ®è€…: </span><span class="contributors-info" data-v-ac33042a><!--[--><!--[--><span class="contributor" data-v-ac33042a>onlylovefish</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-ac33042a><div class="pager" data-v-ac33042a><a class="vp-link no-icon link pager-link prev" href="/yuzhou-site/practice/%E4%BE%9D%E8%B5%96/" data-v-ac33042a data-v-230c3d54><!--[--><span class="desc" data-v-ac33042a>ä¸Šä¸€é¡µ</span><span class="title" data-v-ac33042a>ä¾èµ–</span><!--]--><!----></a></div><div class="pager" data-v-ac33042a><a class="vp-link no-icon link pager-link next" href="/yuzhou-site/article/%E4%BD%BF%E7%94%A8FlatList%E7%9A%84%E4%B8%80%E6%AC%A1%E4%B8%9A%E5%8A%A1%E5%AE%9E%E8%B7%B5/" data-v-ac33042a data-v-230c3d54><!--[--><span class="desc" data-v-ac33042a>ä¸‹ä¸€é¡µ</span><span class="title" data-v-ac33042a>ä½¿ç”¨FlatListçš„ä¸€æ¬¡ä¸šåŠ¡å®è·µ</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-2cd99c61 data-v-c8556b97><span class="percent" data-allow-mismatch data-v-c8556b97>0%</span><span class="show icon vpi-back-to-top" data-v-c8556b97></span><svg aria-hidden="true" data-v-c8556b97><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-c8556b97></circle></svg></button><footer class="vp-footer" vp-footer data-v-2cd99c61 data-v-74c19f57><!--[--><div class="container" data-v-74c19f57><p class="message" data-v-74c19f57>æ¸”èˆŸ 2025</p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/yuzhou-site/assets/app-BKURSIeJ.js" defer></script></body></html>